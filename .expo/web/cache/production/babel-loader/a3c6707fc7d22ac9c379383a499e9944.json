{"ast":null,"code":"\"use strict\";var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\").default;exports.__esModule=true;exports.default=useElementLayout;var _useLayoutEffect=_interopRequireDefault(require(\"../useLayoutEffect\"));var _UIManager=_interopRequireDefault(require(\"../../exports/UIManager\"));var _canUseDom=_interopRequireDefault(require(\"../canUseDom\"));var DOM_LAYOUT_HANDLER_NAME='__reactLayoutHandler';var didWarn=!_canUseDom.default;var resizeObserver=null;function getResizeObserver(){if(_canUseDom.default&&typeof window.ResizeObserver!=='undefined'){if(resizeObserver==null){resizeObserver=new window.ResizeObserver(function(entries){entries.forEach(function(entry){var node=entry.target;var onLayout=node[DOM_LAYOUT_HANDLER_NAME];if(typeof onLayout==='function'){_UIManager.default.measure(node,function(x,y,width,height,left,top){var event={nativeEvent:{layout:{x:x,y:y,width:width,height:height,left:left,top:top}},timeStamp:Date.now()};Object.defineProperty(event.nativeEvent,'target',{enumerable:true,get:function get(){return entry.target;}});onLayout(event);});}});});}}else if(!didWarn){if(process.env.NODE_ENV!=='production'&&process.env.NODE_ENV!=='test'){console.warn('onLayout relies on ResizeObserver which is not supported by your browser. '+'Please include a polyfill, e.g., https://github.com/que-etc/resize-observer-polyfill.');didWarn=true;}}return resizeObserver;}function useElementLayout(ref,onLayout){var observer=getResizeObserver();(0,_useLayoutEffect.default)(function(){var node=ref.current;if(node!=null){node[DOM_LAYOUT_HANDLER_NAME]=onLayout;}},[ref,onLayout]);(0,_useLayoutEffect.default)(function(){var node=ref.current;if(node!=null&&observer!=null){if(typeof node[DOM_LAYOUT_HANDLER_NAME]==='function'){observer.observe(node);}else{observer.unobserve(node);}}return function(){if(node!=null&&observer!=null){observer.unobserve(node);}};},[ref,observer]);}module.exports=exports.default;","map":{"version":3,"names":["_interopRequireDefault","require","default","exports","__esModule","useElementLayout","_useLayoutEffect","_UIManager","_canUseDom","DOM_LAYOUT_HANDLER_NAME","didWarn","resizeObserver","getResizeObserver","window","ResizeObserver","entries","forEach","entry","node","target","onLayout","measure","x","y","width","height","left","top","event","nativeEvent","layout","timeStamp","Date","now","Object","defineProperty","enumerable","get","process","env","NODE_ENV","console","warn","ref","observer","current","observe","unobserve","module"],"sources":["/Users/dp-tonmai/Documents/GitHub/tomnjkun.github.io/node_modules/react-native-web/dist/cjs/modules/useElementLayout/index.js"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\n\nexports.__esModule = true;\nexports.default = useElementLayout;\n\nvar _useLayoutEffect = _interopRequireDefault(require(\"../useLayoutEffect\"));\n\nvar _UIManager = _interopRequireDefault(require(\"../../exports/UIManager\"));\n\nvar _canUseDom = _interopRequireDefault(require(\"../canUseDom\"));\n\n/**\n * Copyright (c) Nicolas Gallagher.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n */\nvar DOM_LAYOUT_HANDLER_NAME = '__reactLayoutHandler';\nvar didWarn = !_canUseDom.default;\nvar resizeObserver = null;\n\nfunction getResizeObserver() {\n  if (_canUseDom.default && typeof window.ResizeObserver !== 'undefined') {\n    if (resizeObserver == null) {\n      resizeObserver = new window.ResizeObserver(function (entries) {\n        entries.forEach(entry => {\n          var node = entry.target;\n          var onLayout = node[DOM_LAYOUT_HANDLER_NAME];\n\n          if (typeof onLayout === 'function') {\n            // We still need to measure the view because browsers don't yet provide\n            // border-box dimensions in the entry\n            _UIManager.default.measure(node, (x, y, width, height, left, top) => {\n              var event = {\n                // $FlowFixMe\n                nativeEvent: {\n                  layout: {\n                    x,\n                    y,\n                    width,\n                    height,\n                    left,\n                    top\n                  }\n                },\n                timeStamp: Date.now()\n              };\n              Object.defineProperty(event.nativeEvent, 'target', {\n                enumerable: true,\n                get: () => entry.target\n              });\n              onLayout(event);\n            });\n          }\n        });\n      });\n    }\n  } else if (!didWarn) {\n    if (process.env.NODE_ENV !== 'production' && process.env.NODE_ENV !== 'test') {\n      console.warn('onLayout relies on ResizeObserver which is not supported by your browser. ' + 'Please include a polyfill, e.g., https://github.com/que-etc/resize-observer-polyfill.');\n      didWarn = true;\n    }\n  }\n\n  return resizeObserver;\n}\n\nfunction useElementLayout(ref, onLayout) {\n  var observer = getResizeObserver();\n  (0, _useLayoutEffect.default)(() => {\n    var node = ref.current;\n\n    if (node != null) {\n      node[DOM_LAYOUT_HANDLER_NAME] = onLayout;\n    }\n  }, [ref, onLayout]); // Observing is done in a separate effect to avoid this effect running\n  // when 'onLayout' changes.\n\n  (0, _useLayoutEffect.default)(() => {\n    var node = ref.current;\n\n    if (node != null && observer != null) {\n      if (typeof node[DOM_LAYOUT_HANDLER_NAME] === 'function') {\n        observer.observe(node);\n      } else {\n        observer.unobserve(node);\n      }\n    }\n\n    return () => {\n      if (node != null && observer != null) {\n        observer.unobserve(node);\n      }\n    };\n  }, [ref, observer]);\n}\n\nmodule.exports = exports.default;"],"mappings":"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"},"metadata":{},"sourceType":"script"}