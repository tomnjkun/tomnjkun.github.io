{"ast":null,"code":"var util=require(\"./util\");var protocols=require(\"./constants\").RTD_URI_PROTOCOLS;function decode(data){var prefix=protocols[data[0]];if(!prefix){prefix='';}return prefix+util.bytesToString(data.slice(1));}function encode(uri){var prefix,protocolCode,encoded;protocols.slice(1).forEach(function(protocol){if((!prefix||prefix==='urn:')&&uri.indexOf(protocol)===0){prefix=protocol;}});if(!prefix){prefix='';}encoded=util.stringToBytes(uri.slice(prefix.length));protocolCode=protocols.indexOf(prefix);encoded.unshift(protocolCode);return encoded;}module.exports={encodePayload:encode,decodePayload:decode};","map":{"version":3,"names":["util","require","protocols","RTD_URI_PROTOCOLS","decode","data","prefix","bytesToString","slice","encode","uri","protocolCode","encoded","forEach","protocol","indexOf","stringToBytes","length","unshift","module","exports","encodePayload","decodePayload"],"sources":["/Users/dp-tonmai/Documents/GitHub/tomnjkun.github.io/node_modules/react-native-nfc-manager/ndef-lib/ndef-uri.js"],"sourcesContent":["const util = require('./util');\nconst protocols = require('./constants').RTD_URI_PROTOCOLS;\n\n// decode a URI payload bytes\n// @returns a string\nfunction decode(data) {\n  var prefix = protocols[data[0]];\n  if (!prefix) {\n    // 36 to 255 should be \"\"\n    prefix = '';\n  }\n  return prefix + util.bytesToString(data.slice(1));\n}\n\n// shorten a URI with standard prefix\n// @returns an array of bytes\nfunction encode(uri) {\n  var prefix, protocolCode, encoded;\n\n  // check each protocol, unless we've found a match\n  // \"urn:\" is the one exception where we need to keep checking\n  // slice so we don't check \"\"\n  protocols.slice(1).forEach(function (protocol) {\n    if ((!prefix || prefix === 'urn:') && uri.indexOf(protocol) === 0) {\n      prefix = protocol;\n    }\n  });\n\n  if (!prefix) {\n    prefix = '';\n  }\n\n  encoded = util.stringToBytes(uri.slice(prefix.length));\n  protocolCode = protocols.indexOf(prefix);\n  // prepend protocol code\n  encoded.unshift(protocolCode);\n\n  return encoded;\n}\n\nmodule.exports = {\n  encodePayload: encode,\n  decodePayload: decode,\n};\n"],"mappings":"AAAA,GAAMA,KAAI,CAAGC,OAAO,UAAU,CAC9B,GAAMC,UAAS,CAAGD,OAAO,eAAe,CAACE,iBAAiB,CAI1D,QAASC,OAAM,CAACC,IAAI,CAAE,CACpB,GAAIC,OAAM,CAAGJ,SAAS,CAACG,IAAI,CAAC,CAAC,CAAC,CAAC,CAC/B,GAAI,CAACC,MAAM,CAAE,CAEXA,MAAM,CAAG,EAAE,CACb,CACA,MAAOA,OAAM,CAAGN,IAAI,CAACO,aAAa,CAACF,IAAI,CAACG,KAAK,CAAC,CAAC,CAAC,CAAC,CACnD,CAIA,QAASC,OAAM,CAACC,GAAG,CAAE,CACnB,GAAIJ,OAAM,CAAEK,YAAY,CAAEC,OAAO,CAKjCV,SAAS,CAACM,KAAK,CAAC,CAAC,CAAC,CAACK,OAAO,CAAC,SAAUC,QAAQ,CAAE,CAC7C,GAAI,CAAC,CAACR,MAAM,EAAIA,MAAM,GAAK,MAAM,GAAKI,GAAG,CAACK,OAAO,CAACD,QAAQ,CAAC,GAAK,CAAC,CAAE,CACjER,MAAM,CAAGQ,QAAQ,CACnB,CACF,CAAC,CAAC,CAEF,GAAI,CAACR,MAAM,CAAE,CACXA,MAAM,CAAG,EAAE,CACb,CAEAM,OAAO,CAAGZ,IAAI,CAACgB,aAAa,CAACN,GAAG,CAACF,KAAK,CAACF,MAAM,CAACW,MAAM,CAAC,CAAC,CACtDN,YAAY,CAAGT,SAAS,CAACa,OAAO,CAACT,MAAM,CAAC,CAExCM,OAAO,CAACM,OAAO,CAACP,YAAY,CAAC,CAE7B,MAAOC,QAAO,CAChB,CAEAO,MAAM,CAACC,OAAO,CAAG,CACfC,aAAa,CAAEZ,MAAM,CACrBa,aAAa,CAAElB,MACjB,CAAC"},"metadata":{},"sourceType":"script"}