{"ast":null,"code":"import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import Platform from\"react-native-web/dist/exports/Platform\";import{callNative}from\"../NativeNfcManager\";import{handleNativeException}from\"../NfcError\";var NdefStatus={NotSupported:1,ReadWrite:2,ReadOnly:3};var NdefHandler=function(){function NdefHandler(){_classCallCheck(this,NdefHandler);}_createClass(NdefHandler,[{key:\"writeNdefMessage\",value:function(){var _writeNdefMessage=_asyncToGenerator(function*(bytes){return handleNativeException(callNative('writeNdefMessage',[bytes]));});function writeNdefMessage(_x){return _writeNdefMessage.apply(this,arguments);}return writeNdefMessage;}()},{key:\"getNdefMessage\",value:function(){var _getNdefMessage=_asyncToGenerator(function*(){return handleNativeException(callNative('getNdefMessage'));});function getNdefMessage(){return _getNdefMessage.apply(this,arguments);}return getNdefMessage;}()},{key:\"makeReadOnly\",value:function(){var _makeReadOnly=_asyncToGenerator(function*(){return handleNativeException(callNative('makeReadOnly'));});function makeReadOnly(){return _makeReadOnly.apply(this,arguments);}return makeReadOnly;}()},{key:\"getNdefStatus\",value:function(){var _getNdefStatus=_asyncToGenerator(function*(){if(Platform.OS==='ios'){return handleNativeException(callNative('queryNDEFStatus'));}else{try{var result=yield handleNativeException(callNative('getNdefStatus'));return{status:result.isWritable?NdefStatus.ReadWrite:NdefStatus.ReadOnly,capacity:result.maxSize};}catch(ex){return{status:NdefStatus.NotSupported,capacity:0};}}});function getNdefStatus(){return _getNdefStatus.apply(this,arguments);}return getNdefStatus;}()},{key:\"getCachedNdefMessageAndroid\",value:function(){var _getCachedNdefMessageAndroid=_asyncToGenerator(function*(){return handleNativeException(callNative('getCachedNdefMessage'));});function getCachedNdefMessageAndroid(){return _getCachedNdefMessageAndroid.apply(this,arguments);}return getCachedNdefMessageAndroid;}()}]);return NdefHandler;}();export{NdefHandler,NdefStatus};","map":{"version":3,"names":["callNative","handleNativeException","NdefStatus","NotSupported","ReadWrite","ReadOnly","NdefHandler","bytes","Platform","OS","result","status","isWritable","capacity","maxSize","ex"],"sources":["/Users/dp-tonmai/Documents/GitHub/tomnjkun.github.io/node_modules/react-native-nfc-manager/src/NfcTech/NdefHandler.js"],"sourcesContent":["import {Platform} from 'react-native';\nimport {callNative} from '../NativeNfcManager';\nimport {handleNativeException} from '../NfcError';\n\nconst NdefStatus = {\n  NotSupported: 1,\n  ReadWrite: 2,\n  ReadOnly: 3,\n};\n\nclass NdefHandler {\n  async writeNdefMessage(bytes) {\n    return handleNativeException(callNative('writeNdefMessage', [bytes]));\n  }\n\n  async getNdefMessage() {\n    return handleNativeException(callNative('getNdefMessage'));\n  }\n\n  async makeReadOnly() {\n    return handleNativeException(callNative('makeReadOnly'));\n  }\n\n  async getNdefStatus() {\n    if (Platform.OS === 'ios') {\n      return handleNativeException(callNative('queryNDEFStatus'));\n    } else {\n      try {\n        const result = await handleNativeException(callNative('getNdefStatus'));\n        return {\n          status: result.isWritable\n            ? NdefStatus.ReadWrite\n            : NdefStatus.ReadOnly,\n          capacity: result.maxSize,\n        };\n      } catch (ex) {\n        return {\n          status: NdefStatus.NotSupported,\n          capacity: 0,\n        };\n      }\n    }\n  }\n\n  async getCachedNdefMessageAndroid() {\n    return handleNativeException(callNative('getCachedNdefMessage'));\n  }\n}\n\nexport {NdefHandler, NdefStatus};\n"],"mappings":"oQACA,OAAQA,UAAU,2BAClB,OAAQC,qBAAqB,mBAE7B,GAAMC,WAAU,CAAG,CACjBC,YAAY,CAAE,CAAC,CACfC,SAAS,CAAE,CAAC,CACZC,QAAQ,CAAE,CACZ,CAAC,CAAC,GAEIC,YAAW,iLACf,UAAuBC,KAAK,CAAE,CAC5B,MAAON,sBAAqB,CAACD,UAAU,CAAC,kBAAkB,CAAE,CAACO,KAAK,CAAC,CAAC,CAAC,CACvE,CAAC,0LAED,WAAuB,CACrB,MAAON,sBAAqB,CAACD,UAAU,CAAC,gBAAgB,CAAC,CAAC,CAC5D,CAAC,8KAED,WAAqB,CACnB,MAAOC,sBAAqB,CAACD,UAAU,CAAC,cAAc,CAAC,CAAC,CAC1D,CAAC,0KAED,WAAsB,CACpB,GAAIQ,QAAQ,CAACC,EAAE,GAAK,KAAK,CAAE,CACzB,MAAOR,sBAAqB,CAACD,UAAU,CAAC,iBAAiB,CAAC,CAAC,CAC7D,CAAC,IAAM,CACL,GAAI,CACF,GAAMU,OAAM,MAAST,sBAAqB,CAACD,UAAU,CAAC,eAAe,CAAC,CAAC,CACvE,MAAO,CACLW,MAAM,CAAED,MAAM,CAACE,UAAU,CACrBV,UAAU,CAACE,SAAS,CACpBF,UAAU,CAACG,QAAQ,CACvBQ,QAAQ,CAAEH,MAAM,CAACI,OACnB,CAAC,CACH,CAAE,MAAOC,EAAE,CAAE,CACX,MAAO,CACLJ,MAAM,CAAET,UAAU,CAACC,YAAY,CAC/BU,QAAQ,CAAE,CACZ,CAAC,CACH,CACF,CACF,CAAC,yMAED,WAAoC,CAClC,MAAOZ,sBAAqB,CAACD,UAAU,CAAC,sBAAsB,CAAC,CAAC,CAClE,CAAC,qKAGH,OAAQM,WAAW,CAAEJ,UAAU"},"metadata":{},"sourceType":"module"}