{"ast":null,"code":"\"use strict\";var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\").default;exports.__esModule=true;exports.default=useEvent;var _createEventHandle=_interopRequireDefault(require(\"../createEventHandle\"));var _useLayoutEffect=_interopRequireDefault(require(\"../useLayoutEffect\"));var _useStable=_interopRequireDefault(require(\"../useStable\"));function useEvent(event,options){var targetListeners=(0,_useStable.default)(function(){return new Map();});var addListener=(0,_useStable.default)(function(){var addEventListener=(0,_createEventHandle.default)(event,options);return function(target,callback){var removeTargetListener=targetListeners.get(target);if(removeTargetListener!=null){removeTargetListener();}if(callback==null){targetListeners.delete(target);}var removeEventListener=addEventListener(target,callback);targetListeners.set(target,removeEventListener);return removeEventListener;};});(0,_useLayoutEffect.default)(function(){return function(){targetListeners.forEach(function(removeListener){removeListener();});targetListeners.clear();};},[targetListeners]);return addListener;}module.exports=exports.default;","map":{"version":3,"names":["_interopRequireDefault","require","default","exports","__esModule","useEvent","_createEventHandle","_useLayoutEffect","_useStable","event","options","targetListeners","Map","addListener","addEventListener","target","callback","removeTargetListener","get","delete","removeEventListener","set","forEach","removeListener","clear","module"],"sources":["/Users/dp-tonmai/Documents/GitHub/tomnjkun.github.io/node_modules/react-native-web/dist/cjs/modules/useEvent/index.js"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\n\nexports.__esModule = true;\nexports.default = useEvent;\n\nvar _createEventHandle = _interopRequireDefault(require(\"../createEventHandle\"));\n\nvar _useLayoutEffect = _interopRequireDefault(require(\"../useLayoutEffect\"));\n\nvar _useStable = _interopRequireDefault(require(\"../useStable\"));\n\n/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n */\n\n/**\n * This can be used with any event type include custom events.\n *\n * const click = useEvent('click', options);\n * useEffect(() => {\n *   click.setListener(target, onClick);\n *   return () => click.clear();\n * }).\n */\nfunction useEvent(event, options) {\n  var targetListeners = (0, _useStable.default)(() => new Map());\n  var addListener = (0, _useStable.default)(() => {\n    var addEventListener = (0, _createEventHandle.default)(event, options);\n    return (target, callback) => {\n      var removeTargetListener = targetListeners.get(target);\n\n      if (removeTargetListener != null) {\n        removeTargetListener();\n      }\n\n      if (callback == null) {\n        targetListeners.delete(target);\n      }\n\n      var removeEventListener = addEventListener(target, callback);\n      targetListeners.set(target, removeEventListener);\n      return removeEventListener;\n    };\n  });\n  (0, _useLayoutEffect.default)(() => {\n    return () => {\n      targetListeners.forEach(removeListener => {\n        removeListener();\n      });\n      targetListeners.clear();\n    };\n  }, [targetListeners]);\n  return addListener;\n}\n\nmodule.exports = exports.default;"],"mappings":"AAAA,YAAY,CAEZ,GAAIA,uBAAsB,CAAGC,OAAO,CAAC,8CAA8C,CAAC,CAACC,OAAO,CAE5FC,OAAO,CAACC,UAAU,CAAG,IAAI,CACzBD,OAAO,CAACD,OAAO,CAAGG,QAAQ,CAE1B,GAAIC,mBAAkB,CAAGN,sBAAsB,CAACC,OAAO,wBAAwB,CAAC,CAEhF,GAAIM,iBAAgB,CAAGP,sBAAsB,CAACC,OAAO,sBAAsB,CAAC,CAE5E,GAAIO,WAAU,CAAGR,sBAAsB,CAACC,OAAO,gBAAgB,CAAC,CAoBhE,QAASI,SAAQ,CAACI,KAAK,CAAEC,OAAO,CAAE,CAChC,GAAIC,gBAAe,CAAG,CAAC,CAAC,CAAEH,UAAU,CAACN,OAAO,EAAE,iBAAM,IAAIU,IAAG,EAAE,GAAC,CAC9D,GAAIC,YAAW,CAAG,CAAC,CAAC,CAAEL,UAAU,CAACN,OAAO,EAAE,UAAM,CAC9C,GAAIY,iBAAgB,CAAG,CAAC,CAAC,CAAER,kBAAkB,CAACJ,OAAO,EAAEO,KAAK,CAAEC,OAAO,CAAC,CACtE,MAAO,UAACK,MAAM,CAAEC,QAAQ,CAAK,CAC3B,GAAIC,qBAAoB,CAAGN,eAAe,CAACO,GAAG,CAACH,MAAM,CAAC,CAEtD,GAAIE,oBAAoB,EAAI,IAAI,CAAE,CAChCA,oBAAoB,EAAE,CACxB,CAEA,GAAID,QAAQ,EAAI,IAAI,CAAE,CACpBL,eAAe,CAACQ,MAAM,CAACJ,MAAM,CAAC,CAChC,CAEA,GAAIK,oBAAmB,CAAGN,gBAAgB,CAACC,MAAM,CAAEC,QAAQ,CAAC,CAC5DL,eAAe,CAACU,GAAG,CAACN,MAAM,CAAEK,mBAAmB,CAAC,CAChD,MAAOA,oBAAmB,CAC5B,CAAC,CACH,CAAC,CAAC,CACF,CAAC,CAAC,CAAEb,gBAAgB,CAACL,OAAO,EAAE,UAAM,CAClC,MAAO,WAAM,CACXS,eAAe,CAACW,OAAO,CAAC,SAAAC,cAAc,CAAI,CACxCA,cAAc,EAAE,CAClB,CAAC,CAAC,CACFZ,eAAe,CAACa,KAAK,EAAE,CACzB,CAAC,CACH,CAAC,CAAE,CAACb,eAAe,CAAC,CAAC,CACrB,MAAOE,YAAW,CACpB,CAEAY,MAAM,CAACtB,OAAO,CAAGA,OAAO,CAACD,OAAO"},"metadata":{},"sourceType":"script"}