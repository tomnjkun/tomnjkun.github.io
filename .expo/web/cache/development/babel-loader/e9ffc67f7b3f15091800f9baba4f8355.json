{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport { callNative, NativeNfcManager } from \"../NativeNfcManager\";\nimport { handleNativeException } from \"../NfcError\";\nvar IsoDepHandler = function () {\n  function IsoDepHandler() {\n    _classCallCheck(this, IsoDepHandler);\n  }\n  _createClass(IsoDepHandler, [{\n    key: \"transceive\",\n    value: function () {\n      var _transceive = _asyncToGenerator(function* (bytes) {\n        if (!Array.isArray(bytes)) {\n          throw new Error('IsoDepHandler.transceive only takes input as a byte array');\n        }\n        if (Platform.OS === 'ios') {\n          return handleNativeException(new Promise(function (resolve, reject) {\n            NativeNfcManager.sendCommandAPDUBytes(bytes, function (err, response, sw1, sw2) {\n              if (err) {\n                reject(err);\n              } else {\n                resolve([].concat(_toConsumableArray(response), [sw1, sw2]));\n              }\n            });\n          }));\n        }\n        return handleNativeException(callNative('transceive', [bytes]));\n      });\n      function transceive(_x) {\n        return _transceive.apply(this, arguments);\n      }\n      return transceive;\n    }()\n  }]);\n  return IsoDepHandler;\n}();\nexport { IsoDepHandler };","map":{"version":3,"names":["callNative","NativeNfcManager","handleNativeException","IsoDepHandler","bytes","Array","isArray","Error","Platform","OS","Promise","resolve","reject","sendCommandAPDUBytes","err","response","sw1","sw2"],"sources":["/Users/dp-tonmai/Documents/my-solito-app/node_modules/react-native-nfc-manager/src/NfcTech/IsoDepHandler.js"],"sourcesContent":["import {Platform} from 'react-native';\nimport {callNative, NativeNfcManager} from '../NativeNfcManager';\nimport {handleNativeException} from '../NfcError';\n\nclass IsoDepHandler {\n  async transceive(bytes) {\n    if (!Array.isArray(bytes)) {\n      throw new Error(\n        'IsoDepHandler.transceive only takes input as a byte array',\n      );\n    }\n\n    if (Platform.OS === 'ios') {\n      return handleNativeException(\n        new Promise((resolve, reject) => {\n          NativeNfcManager.sendCommandAPDUBytes(\n            bytes,\n            (err, response, sw1, sw2) => {\n              if (err) {\n                reject(err);\n              } else {\n                // TODO: make following data the same format as Android\n                resolve([...response, sw1, sw2]);\n              }\n            },\n          );\n        }),\n      );\n    }\n\n    return handleNativeException(callNative('transceive', [bytes]));\n  }\n}\n\nexport {IsoDepHandler};\n"],"mappings":";;;;;AACA,SAAQA,UAAU,EAAEC,gBAAgB;AACpC,SAAQC,qBAAqB;AAAqB,IAE5CC,aAAa;EAAA;IAAA;EAAA;EAAA;IAAA;IAAA;MAAA,oCACjB,WAAiBC,KAAK,EAAE;QACtB,IAAI,CAACC,KAAK,CAACC,OAAO,CAACF,KAAK,CAAC,EAAE;UACzB,MAAM,IAAIG,KAAK,CACb,2DAA2D,CAC5D;QACH;QAEA,IAAIC,QAAQ,CAACC,EAAE,KAAK,KAAK,EAAE;UACzB,OAAOP,qBAAqB,CAC1B,IAAIQ,OAAO,CAAC,UAACC,OAAO,EAAEC,MAAM,EAAK;YAC/BX,gBAAgB,CAACY,oBAAoB,CACnCT,KAAK,EACL,UAACU,GAAG,EAAEC,QAAQ,EAAEC,GAAG,EAAEC,GAAG,EAAK;cAC3B,IAAIH,GAAG,EAAE;gBACPF,MAAM,CAACE,GAAG,CAAC;cACb,CAAC,MAAM;gBAELH,OAAO,8BAAKI,QAAQ,IAAEC,GAAG,EAAEC,GAAG,GAAE;cAClC;YACF,CAAC,CACF;UACH,CAAC,CAAC,CACH;QACH;QAEA,OAAOf,qBAAqB,CAACF,UAAU,CAAC,YAAY,EAAE,CAACI,KAAK,CAAC,CAAC,CAAC;MACjE,CAAC;MAAA;QAAA;MAAA;MAAA;IAAA;EAAA;EAAA;AAAA;AAGH,SAAQD,aAAa"},"metadata":{},"sourceType":"module"}